<div class="flash-alert" *ngIf="flashAlert">
    <flash-messages></flash-messages>
</div>

<div class="co-bg">
  <div class="container myContainer">
    <div class="co-info">
      <img src="/assets/images/app/reunion.svg" alt="Organizer" style="max-height: 30px; max-width: 30px;">
      <h1 class="heading--tag"><small>Step 1 of 1</small>Create Organizer Profile</h1><hr class="heading--hr" style="margin-left: 45px;"><br>  
    
      <form novalidate #createO="ngForm" (ngSubmit)="updateOF(createO)">
        <div class="row">
          <div class="col-md-7">
            <div class="form-group">
              <label for="name">Organizer Name</label>
              <input type="text" class="form-control r--form-control" id="name" name="name" [(ngModel)]="organizer.name" #name="ngModel" required minlength="3">
            </div>
            <div class='disclamier' *ngIf='!name.valid && name.touched'>Enter the name of the organizer</div>

            <div class="row">
              <div class="col-md-6">
                <div class="form-group">
                  <label for="phone">Phone Number</label>
                  <input type="text" class="form-control r--form-control" id="phone" name="phone" [(ngModel)]="organizer.phone" #phone="ngModel" required minlength="11">
                </div>
                <div class='disclamier' *ngIf='!phone.valid && phone.touched'>Enter the phone number of the organizer and cannot be less than 11 characters</div>
              </div>
              <div class="col-md-6">
                <div class="form-group">
                  <label for="email">Email Address</label>
                  <input type="email" class="form-control r--form-control" id="email" name="email" [(ngModel)]="organizer.email" #email="ngModel" required pattern="[a-zA-Z0-9.-_]{1,}@[a-zA-Z.-]{2,}[.]{1}[a-zA-Z]{2,}">
                </div>
                <div class='disclamier' *ngIf='!email.valid && email.touched'>Enter the email address of the organizer</div>
              </div>
            </div>

            <div class="form-group">
              <label for="about">About The Organizer</label>
              <editor apiKey="voj12mfkwvtx4d10j01tjjr2a4m5ah9fxt4vvnzxnz6jwff0" [init]="{plugins: 'link'}" name="about" [(ngModel)]="organizer.about" #about="ngModel" required minlength='25'></editor>
            </div>

            <div class='disclamier' *ngIf='!about.valid && about.touched'>Enter a short detail about the organizer</div>
            
            <div class="form-group">
              <label for="organizerLogo">Organizer Logo</label>
              <image-upload 
                [max]="1" 
                [maxFileSize]="52428800" 
                [extensions]="['jpeg','jpg','png','gif']"
                [buttonCaption]="'Select Image'"
                [dropBoxMessage]="'Drop your organizer logo here!'"
                [fileTooLargeMessage]="'Image too large!'"
                (uploadFinished)="onUploadFinished($event)"
                [style]="customStyle">
              </image-upload><br>
              <small>We recommend using at least a 1000x500px image that's no larger than 50MB.<br>
              <b style="color: red">Note: only one image allowed!</b></small>
            </div>

            <div class="row">
              <div class="col-md-6">
                <div class="form-group">
                  <label for="background_color">Background Colour</label>
                  <input [(colorPicker)]="organizer.background_color" [style.background]="organizer.background_color" type="text" class="form-control r--form-control" id="background_color" name="background_color" [(ngModel)]="organizer.background_color" #backgroundColor="ngModel" required/>
                </div>
                <div class='disclamier' *ngIf='!backgroundColor.valid && backgroundColor.touched'>Select a background colour for your organizer page view</div>
              </div>
              <div class="col-md-6">
                <div class="form-group">
                  <label for="text_color">Text Color</label>
                  <input [(colorPicker)]="organizer.text_color" [style.background]="organizer.text_color" type="text" class="form-control r--form-control" id="text_color" name="text_color" [(ngModel)]="organizer.text_color" #textColor="ngModel" required/>
                </div>
                <div class='disclamier' *ngIf='!textColor.valid && textColor.touched'>Select a text colour that would be used over the background colour</div>
              </div>
            </div>
          </div>
          <div class="col-md-5">
            <label for="webiste">Website</label>
            <div class="input-group mb-3">
              <input type="text" class="form-control addon-form-control" id="webiste" name="webiste" placeholder="format: https://example.com" [(ngModel)]="organizer.socials.website" #webiste="ngModel">
              <div class="input-group-addon">
                <span class="input-group-text" id="webiste-addon">
                  <fa name="fas fa-globe"></fa>
                </span>
              </div>
            </div>

            <label for="facebook">Facebook</label>
            <div class="input-group mb-3">
              <input type="text" class="form-control addon-form-control" id="facebook" name="facebook" placeholder="format: https://facebook.com/handle" [(ngModel)]="organizer.socials.facebook" #facebook="ngModel">
              <div class="input-group-addon">
                <span class="input-group-text" id="facebook-addon">
                  <fa name="fab fa-facebook-f"></fa>
                </span>
              </div>
            </div>

            <label for="twitter">Twitter</label>
            <div class="input-group mb-3">
              <input type="text" class="form-control addon-form-control" id="twitter" name="twitter" placeholder="format: https://twitter.com/handle" [(ngModel)]="organizer.socials.twitter" #twitter="ngModel">
              <div class="input-group-addon">
                <span class="input-group-text" id="twitter-addon">
                  <fa name="fab fa-twitter"></fa>
                </span>
              </div>
            </div>

            <label for="instagram">Instagram</label>
            <div class="input-group mb-3">
              <input type="text" class="form-control addon-form-control" id="instagram" name="instagram" placeholder="format: https://instagram.com/handle" [(ngModel)]="organizer.socials.instagram" #instagram="ngModel">
              <div class="input-group-addon">
                <span class="input-group-text" id="instagram-addon">
                  <fa name="fab fa-instagram"></fa>
                </span>
              </div>
            </div>

            <label for="blog">Blog</label>
            <div class="input-group mb-3">
              <input type="text" class="form-control addon-form-control" id="blog" name="blog" placeholder="format: https://medium.com/@handle" [(ngModel)]="organizer.socials.blog" #blog="ngModel">
              <div class="input-group-addon">
                <span class="input-group-text" id="blog-addon">
                  <fa name="fab fa-medium"></fa>
                </span>
              </div>
            </div>

            <div class="submit-block">
              <button type="submit" class="btn rockies-btn" [disabled]="!createO.valid">Update Organizer</button>
            </div>

          </div>
        </div>
      </form>
    </div>
  </div>
  <br><br>
</div>

<div *ngIf="preloader">
  <app-preloader></app-preloader>
</div>